---
title: Set up dark mode theming
parent: /courses/nextjs-blog
date: 2025-12-04
abstract:
  In this chapter, you will learn how to implement dark mode theming in your Next.js blog.
---

To enhance the user experience of your blog, you can implement dark mode theming.
This allows users to switch between light and dark themes based on their preferences.

In this chapter, you're going to do the following:

- Configure your global stylesheet for theming
- Create a theme toggle component
- Include the theme toggle in the navbar
- Configure your app layout so that your content is not hidden behind the fixed navbar

## Configure your Global stylesheet

```css:title=app/globals.css
:root {
  --foreground-light-mode: #111827;
  --background-light-mode: #e8e6e6;
  --foreground-dark-mode: #e8e6e6;
  --background-dark-mode: #111827;
}

@theme inline {
  --color-background-light-mode: var(--background-light-mode);
  --color-foreground-light-mode: var(--foreground-light-mode);
  --color-background-dark-mode: var(--background-dark-mode);
  --color-foreground-dark-mode: var(--foreground-dark-mode);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* https://github.com/themesberg/flowbite-react/issues/1583#issuecomment-2974265404 */
@custom-variant dark (&:where(.dark, .dark *));

html,
body {
  @apply font-sans bg-background-light-mode text-foreground-light-mode dark:bg-background-dark-mode dark:text-foreground-dark-mode;
}

```

## Create a theme toggle component

```tsx:title=components/theme-toggle.tsx
'use client';

import { useThemeMode } from 'flowbite-react';
import { FaSun, FaMoon } from 'react-icons/fa';

export function ThemeToggle() {
  const { mode, toggleMode } = useThemeMode();
  return (
    <button
      className="text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-lg p-2.5"
      onClick={toggleMode}
    >
      <span className="sr-only">Toggle theme</span>
      {mode === 'dark' && <FaSun />}
      {mode !== 'dark' && <FaMoon />}
    </button>
  );
}
```

## Include the theme toggle in the navbar

Open the `components/navbar.tsx` file and import the `ThemeToggle` component.
Then, include it in the navbar, for example, next to the search button.

```tsx:title=components/navbar.tsx
'use client';

import { useStackApp, useUser } from '@stackframe/stack';
import Link from 'next/link';
import { Search } from '@/components/search';
import { ThemeToggle } from '@/components/theme-toggle';

export function Navigation() {
  const app = useStackApp();
  const user = useUser();

  return (
    {/* Change the styles of your navigation to be fixed with a background blur effect apparent when scrolling */}
    <nav className="fixed top-0 w-full bg-white border-b border-gray-200/50 dark:bg-gray-800/50 dark:border-gray-700 backdrop-blur-2xl z-100 py-2">
      <div className="max-w-6xl mx-auto flex items-center justify-between">
        <ul className="flex gap-4">
          <li>
            <Link href="/">Home</Link>
          </li>
          <li>
            <Link href="/blog">Blog</Link>
          </li>
          {user ? (
            <>
              <li>
                <Link href="/zone">Dashboard</Link>
              </li>
              <li>
                <Link href={app.urls.accountSettings}>Profile</Link>
              </li>
              <li>
                <Link href={app.urls.signOut}>Logout</Link>
              </li>
            </>
          ) : (
            <li>
              <Link href={app.urls.signIn}>Login</Link>
            </li>
          )}
        </ul>
        <div className="flex items-center gap-2">
          <Search />
          {/* Add your theme toggle here. */}
          <ThemeToggle />
        </div>
      </div>
    </nav>
  );
}
```

## Configure your app layout

```tsx:title=app/layout.tsx
import type { Metadata } from 'next';
import { StackProvider, StackTheme } from '@stackframe/stack';
import { stackClientApp } from '../stack/client';
import { Geist, Geist_Mono } from 'next/font/google';
import './globals.css';
import { Navigation } from '@/components/navigation';
import { Suspense } from 'react';
import { ThemeModeScript, ThemeProvider } from 'flowbite-react';
import { flowbiteTheme } from '@/flowbite-theme';
import { ProgressBar } from '@/components/progress-bar';

const geistSans = Geist({
  variable: '--font-geist-sans',
  subsets: ['latin'],
});

const geistMono = Geist_Mono({
  variable: '--font-geist-mono',
  subsets: ['latin'],
});

export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en" suppressHydrationWarning>
      <head>
        <ThemeModeScript />
      </head>
      <body
        className={`${geistSans.variable} ${geistMono.variable} antialiased`}
      >
        <StackProvider app={stackClientApp}>
          <StackTheme>
            <Suspense fallback={null}>
              <ProgressBar>
                <ThemeProvider theme={flowbiteTheme}>
                  <Navigation />
                  {/* Main content container with max width and padding */}
                  <div className="mx-auto max-w-7xl px-4 py-12">{children}</div>
                </ThemeProvider>
              </ProgressBar>
            </Suspense>
          </StackTheme>
        </StackProvider>
      </body>
    </html>
  );
}
```

## Conclusion

:sun_with_face: :crescent_moon: You have successfully implemented theme toggling in your Next.js blog.

In the next chapter, you'll learn how to keep your project dependencies up to date by automating the upgrade process!
